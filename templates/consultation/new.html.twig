{% extends 'base.html.twig' %}

{% block title %}Dashboard M√©decin{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/medecin/dashboard.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/consultation/form.css') }}">
{% endblock %}

{% block body %}
{% set navigation = [
    {'name': 'Dashboard', 'path': path('patient_dashboard'), 'icon': 'üè†'},
    {'name': 'Consultations', 'path': path('patient_consultations'), 'icon': 'ü©∫'},
    {'name': 'Nouvelle consultation', 'path': path('consultation_new'), 'icon': '‚ûï'}
] %}

<div class="portal">

    <!-- SIDEBAR -->
    <aside class="portal__side">
        <a href="#" class="portal__brand">
            <img src="{{ asset('assets/images/logo_mini.png') }}" class="portal__logo" alt="">
            <div>
                <div class="portal__name">Aidora</div>
                <div class="portal__tag">Espace Patient</div>
            </div>
        </a>

        <div class="portal__hello">
            <img src="{{ asset('assets/images/avatar.png') }}" class="portal__avatar" alt="">
            <div>
                <div class="portal__hi">Bienvenue</div>
                <div class="portal__mail">{{ app.user.name ?? 'Patient' }}</div>
            </div>
        </div>

        <nav class="portal__menu">
            {% for item in navigation %}
                <a href="{{ item.path }}"
                   class="portal__item {% if app.request.pathinfo == item.path %}is-active{% endif %}">
                    <span class="portal__icon">{{ item.icon }}</span>
                    <span>{{ item.name }}</span>
                </a>
            {% endfor %}
        </nav>

        <div class="portal__bottom">
            <a href="{{ path('app_logout') }}" class="portal__logout">D√©connexion</a>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="portal__main">

        <header class="portal__header">
            <h1 class="portal__title">New Consultation</h1>
            <p class="portal__subtitle">
                Fill in the consultation details carefully.
            </p>
        </header>

        <section class="portal__content portal__card">

            {{ form_start(form, {'attr': {'class': 'form'}}) }}

                <div class="form__fields">
                    {{ form_row(form.dateConsultation) }}
                    {{ form_row(form.motif) }}
                    {{ form_row(form.name) }}
                    {{ form_row(form.familyName) }}
                    {{ form_row(form.email) }}
                    {{ form_row(form.sex) }}
                    {{ form_row(form.age) }}
                </div>

                <div class="form__actions">
                    <a href="{{ path('patient_consultations') }}" class="btn btn--ghost" role="button" aria-label="Cancel and go back">
                        Annuler
                    </a>
                    <button type="submit" class="btn btn--primary" title="Save consultation">
                        Cr√©er
                    </button>
                </div>

            {{ form_end(form) }}

        </section>

    </main>

</div>
{% endblock %}