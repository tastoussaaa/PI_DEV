{% extends 'base.html.twig' %}

{% block title %}Consultation Details{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/medecin/dashboard.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/consultation/form.css') }}">
{% endblock %}

{% block body %}
{% set navigation = [
    {'name': 'Validation des Comptes', 'path': path('app_admin_dashboard'), 'icon': 'âœ“'},
    {'name': 'Consultations', 'path': path('admin_consultations'), 'icon': 'ðŸ©º'},
    {'name': 'Formations', 'path': path('admin_formations'), 'icon': 'ðŸ“š'}
] %}

<div class="portal">

    <!-- SIDEBAR -->
    {% include 'side_bar.html.twig' %}

    <main class="portal__main">
        <header class="portal__header">
            <h1 class="portal__title">DÃ©tails de la consultation</h1>
            <p class="portal__subtitle">DÃ©tails de la consultation #{{ consultation.id }}</p>
        </header>

        <section class="portal__content portal__card">
            <div class="card">
                <div style="display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start">
                    <div>
                        <h3 style="margin:0 0 8px">{{ consultation.motif }} <span style="color:var(--muted);font-weight:700">Â· {{ consultation.dateConsultation ? consultation.dateConsultation|date('Y-m-d') ~ ' ' ~ consultation.timeSlot : 'â€”' }}</span></h3>

                        <div style="margin-top:12px;display:grid;grid-template-columns:repeat(2,1fr);gap:12px">
                            <div>
                                <div class="section-title"><h2 style="font-size:14px;margin:0">Patient</h2></div>
                                <div style="margin-top:6px">{{ consultation.name }} {{ consultation.familyName }}</div>
                                <div style="color:var(--muted);font-size:13px">{{ consultation.email }}</div>
                            </div>
                            <div>
                                <div class="section-title"><h2 style="font-size:14px;margin:0">DÃ©tails</h2></div>
                                <div style="margin-top:6px">Sexe : {{ consultation.sex ?: 'â€”' }}</div>
                                <div>Ã‚ge : {{ consultation.age ?: 'â€”' }}</div>
                                <div>Statut : {{ consultation.status|capitalize }}</div>
                            </div>
                        </div>
                    </div>

                    <aside>
                        <div style="background:var(--card);border:1px solid rgba(7,19,31,.06);border-radius:12px;padding:12px">
                            <div style="font-weight:900">MÃ©tadonnÃ©es</div>
                            <div style="color:var(--muted);margin-top:6px">CrÃ©Ã© : {{ consultation.createdAt ? consultation.createdAt|date('Y-m-d H:i') : 'â€”' }}</div>

                            <div class="form__actions" style="margin-top:12px;display:flex;flex-direction:column;gap:8px">
                                <a href="{{ path('consultation_index') }}" class="btn btn--ghost">Retour</a>
                                <a href="{{ path('consultation_edit', {'id': consultation.id}) }}" class="btn btn--primary">Modifier</a>
                            </div>
                        </div>
                    </aside>
                </div>
            </div>
        </section>

    </main>

</div>
{% endblock %}